- 6.2 Exceptions

	We further extend λΠ,Σ pat with exceptions.

	我々はさらにλΠ、例外を除いて、Σのパットを拡張します。

	First, we introduce the following additional syntax, where exn is the type for values representing exceptions.

	まず、EXN例外を表す値の型がある次の追加の構文を、ご紹介します。


		types τ ::= . . . | exn
		expressions e ::= . . . | raise(e) | try e with ms
		answers ans ::= v | raise(v)


		種類は::=τ。 。 。 | EXN
		式の電子::=。 。 。 |昇給（e）は| MSとEを試してみてください
		回答のANS::= V |昇給（V）

	An answer of the form raise(v) is called a raised exception, where v is the exception being raised.

	We also introduce in Figure 27 some new forms of ev-redexes and their reducts, which are needed for propagating a raised exception to the top level.

	In addition, we introduce a new form of evaluation context to allow a raised exception to be captured (potentially):

	vが提起されて例外がどこにあるフォームレイズ（V）の答えは、発生した例外と呼ばれている。

	また、図27のEV-redexes、トップレベルに上げ例外を伝播するために必要とされる彼らの縮約、いくつかの新たな形でご紹介します。

	さらに、当社は発生した例外は（潜在的に）取り込むことができるように、評価コンテキストの新しい形をご紹介：



		evaluation contexts E ::= . . . | try E with ms

		評価が=:: Eコンテキスト。 。 。 | MSとのtry E

	The following typing rules are needed for handling the newly added language constructs:

	以下の型付け規則は、新たに追加された言語構造を処理するために必要とされています。

		φ; P~; Γ |- e : exn
		--------------------------------------------(ty-raise)
		φ; P~; Γ |- raise(e) : σ

		φ; P~ ; Γ |- e : τ φ; P~; Γ |- ms : exn → τ
		--------------------------------------------(ty-try)
		φ; P~ ; Γ |- try e with ms : τ

	Again, the type soundness of this extension rests upon the following two theorems:

	ここでも、この拡張のタイプの健全性は、以下の2つの定理に載る：


	- Theorem 6.3 (Subject Reduction)

	- 定理6.3（件名リダクション）


		Assume D :: ∅; ∅; ∅ |- e1 : σ e1 ,→ev e2. Then ∅; ∅; ∅ |- e2 : σ is also derivable.

	Dを想定::∅。 ∅。 ∅| - E1：σE1、→EV E2。その後∅。 ∅。 ∅| - E2：σでもある導き出せる。

	- Theorem 6.4 (Progress)
	- 定理6.4（進捗状況）


		Assume that ∅; ∅; ∅ |- e1 : σ is derivable.

		Then there are the following possibilities:

		その∅を前提としています。 ∅。 ∅| - E1：σは導出可能。

		その後、以下のような可能性があります。

		- e1 is a value, or
		- e1 is a raised exception, or
		- e1 is in M-form, or
		- e1 is in U-form, or
		- e1 ,→ev e2 holds for some expression e2.

		We omit the proofs for these two theorems, which are essentially the same as the ones for Theorem 4.11 and Theorem 4.12.
		
		- e1が値であるか、または
		- e1は例外です、または
		- e1はM型であるか、または
		- e1はU型であり、または
		- E1、→EV e2はいくつかの発現E2のために保持している。

		私たちは、基本的に定理4.11と定理4.12のためのものと同じであるこれらの2つの定理、ための証明を省略します。

		----

		Assume the existence of two exception constants Match and Undefined that are assigned the c-type () ⇒ exn.

		We can then introduce the following evaluation rules for handling expressions in M-form or U-form:
		case v of ms ,→ev raise(Match) if v matches none of the patterns in ms.
		cf(v) ,→ev raise(Undefined) if cf(v) is undefined.

		Then the progress theorem can be stated as follows:

		2例外の存在がマッチし、C型が割り当てられ未定義（）がEXN。⇒定数とします。

		私たちは、その後、M-形またはU-形で式を処理するための以下の評価ルールを導入することができます。
		EVレイズ（一致）→MSの場合Vは、場合には、Vは、MSのパターンのどれも一致しない。
		CF（V）、CF（v）が定義されていない場合、EVレイズ（未定義）→。

		次のように進行状況定理は述べることができる。

	- Theorem 6.5 (Progress)
	- 定理6.5（進捗状況）

		Assume that ∅; ∅; ∅ |- e1 : σ is derivable. Then there are the following possibilities:

		その∅を前提としています。 ∅。 ∅| - E1：σは導出可能。その後、以下のような可能性があります。

		- e1 is a value, or
		- e1 is a raised exception, or
		- e1 ,→ev e2 holds for some expression e2.

		So we can now claim that the evaluation of a well-typed program either terminates with an answer, that is, a value or a raised exception, or goes on forever.

		- e1が値であるか、または
		- e1は例外です、または
		- E1、→EV e2はいくつかの発現E2のために保持している。

		だから我々は現在、十分に型指定されたプログラムの評価はどちらか、つまり、答えを値または発生した例外を終了し、または永遠に行くことを主張することができます。
